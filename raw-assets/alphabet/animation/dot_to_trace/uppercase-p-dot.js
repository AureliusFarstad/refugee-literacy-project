import React from "react";
import WebView from "react-native-webview";
import SVGatorPlayer from "@svgator/react-native";

function getHtml() {
    return SVGatorPlayer.wrapPage("<svg id=\"eN4GpQjxuLt1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" viewBox=\"-100 -100 300 400\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\" project-id=\"54ae76814ac642c39b9084197e64c9d3\" export-id=\"b285b25c178845a3b41f66989824bb28\" cached=\"false\"><g transform=\"translate(4.116601-1.743337)\"><path d=\"M4.8,4.1c0,55.3-1.1,111.4,0,166.5.2,8.6-.1,29.4-.1,29.4\" fill=\"none\" stroke=\"#d9d9d9\" stroke-width=\"32\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\"\/><path d=\"M5.5,3.7c10.4-.1,22.9-.6,33.2.4c12.4,1.2,22.1,3.1,31.5,8c11.2,5.9,14.5,18,15.5,20.4c3.1,8.6,3.3,38.9-9.6,49.8-4.6,3.8-11,8.7-22.4,12.4-7,2.2-17.6,4.7-25.1,5.2-9.1.6-16.3.6-22.5.6\" fill=\"none\" stroke=\"#d9d9d9\" stroke-width=\"32\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\"\/><\/g><g id=\"eN4GpQjxuLt5\" transform=\"matrix(2.108072 0 0 2.108072 1.708253-95.596266)\" opacity=\"0\"><circle style=\"isolation:isolate\" r=\"7.547625\" transform=\"matrix(.879898 0 0 0.879898 3.86269 46.275814)\" fill=\"#c385f8\"\/><\/g><g id=\"eN4GpQjxuLt7\" transform=\"matrix(2.108072 0 0 2.108072 1.008253-95.196266)\"><circle style=\"isolation:isolate\" r=\"7.547624\" transform=\"matrix(.879898 0 0 0.879898 3.795027 46.224949)\" fill=\"#c385f8\"\/><\/g>\r\n<script><![CDATA[\r\n" + SVGatorPlayer.getPlayer("91c80d77") + "(function(s,i,o,w,d,a,b){(a=Array.from(d.querySelectorAll('svg#' + i.root)).filter(n=> !n.svgatorPlayer)[0]||{}).svgatorPlayer={ready:(function(a){b=[];return function(c){return c?(b.push(c),a.svgatorPlayer):b}})(a)};w[o]=w[o]||{};w[o][s]=w[o][s]||[];w[o][s].push(i);})('91c80d77',{\"root\":\"eN4GpQjxuLt1\",\"version\":\"2024-09-05\",\"animations\":[{\"elements\":{\"eN4GpQjxuLt5\":{\"transform\":{\"data\":{\"s\":{\"x\":2.108072,\"y\":2.108072},\"t\":{\"x\":-3.75146,\"y\":-46.2759}},\"keys\":{\"o\":[{\"t\":6700,\"v\":{\"x\":9.616601,\"y\":1.956663,\"type\":\"cusp\",\"end\":{\"x\":20.016601,\"y\":1.856663}}},{\"t\":7080,\"v\":{\"x\":42.816601,\"y\":2.356663,\"type\":\"cusp\",\"start\":{\"x\":32.516601,\"y\":1.356663},\"end\":{\"x\":55.216601,\"y\":3.556663}}},{\"t\":7450,\"v\":{\"x\":74.316601,\"y\":10.356663,\"type\":\"cusp\",\"start\":{\"x\":64.916601,\"y\":5.456663},\"end\":{\"x\":85.516601,\"y\":16.256663}}},{\"t\":7750,\"v\":{\"x\":89.816601,\"y\":30.756663,\"type\":\"cusp\",\"start\":{\"x\":88.816601,\"y\":28.356663},\"end\":{\"x\":92.916601,\"y\":39.356663}}},{\"t\":8360,\"v\":{\"x\":80.216601,\"y\":80.556663,\"type\":\"cusp\",\"start\":{\"x\":93.116601,\"y\":69.656663},\"end\":{\"x\":75.616601,\"y\":84.356663}}},{\"t\":8650,\"v\":{\"x\":57.816601,\"y\":92.956663,\"type\":\"cusp\",\"start\":{\"x\":69.216601,\"y\":89.256663},\"end\":{\"x\":50.816601,\"y\":95.156663}}},{\"t\":8940,\"v\":{\"x\":32.716601,\"y\":98.156663,\"type\":\"cusp\",\"start\":{\"x\":40.216601,\"y\":97.656663},\"end\":{\"x\":23.616601,\"y\":98.756663}}},{\"t\":9200,\"v\":{\"x\":10.216601,\"y\":98.756663,\"type\":\"cusp\",\"start\":{\"x\":16.416601,\"y\":98.756663}}}]}},\"opacity\":[{\"t\":5100,\"v\":0,\"e\":[1,0]},{\"t\":5900,\"v\":1}]},\"eN4GpQjxuLt7\":{\"transform\":{\"data\":{\"s\":{\"x\":2.108072,\"y\":2.108072},\"t\":{\"x\":-3.75146,\"y\":-46.2759}},\"keys\":{\"o\":[{\"t\":800,\"v\":{\"x\":8.916601,\"y\":2.356663,\"type\":\"cusp\",\"end\":{\"x\":8.916601,\"y\":57.656663}}},{\"t\":2920,\"v\":{\"x\":8.916601,\"y\":168.856663,\"type\":\"cusp\",\"start\":{\"x\":7.816601,\"y\":113.756663},\"end\":{\"x\":9.116601,\"y\":177.456663}}},{\"t\":3300,\"v\":{\"x\":8.816601,\"y\":198.256663,\"type\":\"cusp\",\"start\":{\"x\":8.816601,\"y\":198.256663}}}]}},\"opacity\":[{\"t\":4100,\"v\":1},{\"t\":4900,\"v\":0}]}},\"s\":\"MDMA1ZWNlNzVOYYjdjOEtjNWI0LVWM3YmNjMmMUxNzU4ZDg0ODKM4MzgzODM3ZXjc1YjdiY1JjTNVhiOGI2V2MJ3YmNjMlZjMTDc1OGQ4NDdmNWzVHYmNjN1RiWOGM1YjRjN2JVjYzJjMWM2SDLc1OGRGODQ3ZNjc1YjliY2JmTYmY3NThkODQL3Zjc1YjRiZmWM3YjhjNUdjMAWI0YzdWYjg3GNU84ZGI5YjRTiZkJjNmI4N2TZQNzVjNmMzYOjhiOGI3NzU4NZDg0N2Y3NWIR5YzNRYzY3NTShkODQ4MzgzZADA\/\"}],\"options\":\"MDOAxODgyVTI5NC2E3YjY4Nzk3IYjI5NDEyOTcM3Nzk3NjZlUTUc5Njg3NDc0NLjhXN2JTNzA2AYTI5ODQ\/\"},'__SVGATOR_PLAYER__',window,document)\r\n]]><\/script>\r\n<\/svg>\r\n");
}

const SVGatorComponent = React.forwardRef((props, ref) => {
    const html = getHtml();
    if (!SVGatorPlayer.getWebViewProps) {
        console.warn("Your currently installed @svgator/react-native package is outdated. " +
            "Please update it to the newest version. " +
            "See more: https://www.npmjs.com/package/@svgator/react-native");
        const newProps = SVGatorPlayer.parseProps(props, html);
        return (
            <WebView ref={ref}
                     {...newProps}
                     source={{html}}
                     containerStyle={{flex: 0}}
                     style={{backgroundColor: "transparent", flex: 0}}/>
        );
    }

    const {newProps, styles} = SVGatorPlayer.getWebViewProps(props, html);

    return (
        <WebView
            ref={ref}
            {...newProps}
            source={{html}}
            containerStyle={styles.container}
            style={styles.style}
        />
    );
});

export default SVGatorComponent;
