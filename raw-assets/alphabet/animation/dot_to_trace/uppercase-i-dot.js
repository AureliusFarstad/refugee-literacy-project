import React from "react";
import WebView from "react-native-webview";
import SVGatorPlayer from "@svgator/react-native";

function getHtml() {
    return SVGatorPlayer.wrapPage("<svg id=\"ebPU9KAqMdN1\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" xmlns:xlink=\"http:\/\/www.w3.org\/1999\/xlink\" viewBox=\"-100 -100 300 400\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\" project-id=\"4cafcf6920364399bf97168858ec7d12\" export-id=\"0b50fe2819cf47d181ea1e3e7af7fb2d\" cached=\"false\"><g transform=\"translate(-1.5 0.859698)\"><path d=\"M4,3.2c0,0,18.7.1,18.5,0c0,0,13.5.2,23,0c16.9-.3,34.4-.6,53.5,0\" fill=\"none\" stroke=\"#d9d9d9\" stroke-width=\"32\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\"\/><path d=\"M51.8,3.2c.1,38.6-.3,74-.3,112.7c0,7-.8,55.6-.2,79.4\" fill=\"none\" stroke=\"#d9d9d9\" stroke-width=\"32\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\"\/><path d=\"M4,194.9c0,0,14.5.1,14.2,0c0,0,22.3.6,33.1.4c15.9-.3,34.5.4,47.7,0\" fill=\"none\" stroke=\"#d9d9d9\" stroke-width=\"32\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\"\/><\/g><g id=\"ebPU9KAqMdN6\" transform=\"matrix(2.108072 0 0 2.108072-5.408348-93.493231)\" opacity=\"0\"><circle style=\"isolation:isolate\" r=\"7.547625\" transform=\"matrix(.879898 0 0 0.879898 3.86269 46.275814)\" fill=\"#c385f8\"\/><\/g><g id=\"ebPU9KAqMdN8\" transform=\"matrix(2.108072 0 0 2.108072-5.408348 98.206769)\" opacity=\"0\"><circle style=\"isolation:isolate\" r=\"7.547625\" transform=\"matrix(.879898 0 0 0.879898 3.86269 46.275814)\" fill=\"#c385f8\"\/><\/g><g id=\"ebPU9KAqMdN10\" transform=\"matrix(2.108072 0 0 2.108072 42.391652-93.493231)\"><circle style=\"isolation:isolate\" r=\"7.547624\" transform=\"matrix(.879898 0 0 0.879898 3.795027 46.224949)\" fill=\"#c385f8\"\/><\/g>\r\n<script><![CDATA[\r\n" + SVGatorPlayer.getPlayer("91c80d77") + "(function(s,i,o,w,d,a,b){(a=Array.from(d.querySelectorAll('svg#' + i.root)).filter(n=> !n.svgatorPlayer)[0]||{}).svgatorPlayer={ready:(function(a){b=[];return function(c){return c?(b.push(c),a.svgatorPlayer):b}})(a)};w[o]=w[o]||{};w[o][s]=w[o][s]||[];w[o][s].push(i);})('91c80d77',{\"root\":\"ebPU9KAqMdN1\",\"version\":\"2024-09-05\",\"animations\":[{\"elements\":{\"ebPU9KAqMdN6\":{\"transform\":{\"data\":{\"s\":{\"x\":2.108072,\"y\":2.108072},\"t\":{\"x\":-3.75146,\"y\":-46.2759}},\"keys\":{\"o\":[{\"t\":6600,\"v\":{\"x\":2.5,\"y\":4.059698,\"type\":\"cusp\",\"end\":{\"x\":2.5,\"y\":4.059698}}},{\"t\":6990,\"v\":{\"x\":21,\"y\":4.059698,\"type\":\"cusp\",\"start\":{\"x\":21.2,\"y\":4.159698},\"end\":{\"x\":21,\"y\":4.059698}}},{\"t\":7470,\"v\":{\"x\":44,\"y\":4.059698,\"type\":\"cusp\",\"start\":{\"x\":34.5,\"y\":4.259698},\"end\":{\"x\":60.9,\"y\":3.759698}}},{\"t\":8600,\"v\":{\"x\":97.5,\"y\":4.059698,\"type\":\"cusp\",\"start\":{\"x\":78.4,\"y\":3.459698}}}]}},\"opacity\":[{\"t\":4900,\"v\":0},{\"t\":5700,\"v\":1,\"e\":[1,0]},{\"t\":9400,\"v\":1},{\"t\":10200,\"v\":0}]},\"ebPU9KAqMdN8\":{\"transform\":{\"data\":{\"s\":{\"x\":2.108072,\"y\":2.108072},\"t\":{\"x\":-3.75146,\"y\":-46.2759}},\"keys\":{\"o\":[{\"t\":11000,\"v\":{\"x\":2.5,\"y\":195.759698,\"type\":\"cusp\",\"end\":{\"x\":2.5,\"y\":195.759698}}},{\"t\":11300,\"v\":{\"x\":16.7,\"y\":195.759698,\"type\":\"cusp\",\"start\":{\"x\":17,\"y\":195.859698},\"end\":{\"x\":16.7,\"y\":195.759698}}},{\"t\":12000,\"v\":{\"x\":49.8,\"y\":196.159698,\"type\":\"cusp\",\"start\":{\"x\":39,\"y\":196.359698},\"end\":{\"x\":65.7,\"y\":195.859698}}},{\"t\":13000,\"v\":{\"x\":97.5,\"y\":196.159698,\"type\":\"cusp\",\"start\":{\"x\":84.3,\"y\":196.559698}}}]}},\"opacity\":[{\"t\":10200,\"v\":0},{\"t\":11000,\"v\":1}]},\"ebPU9KAqMdN10\":{\"transform\":{\"data\":{\"s\":{\"x\":2.108072,\"y\":2.108072},\"t\":{\"x\":-3.75146,\"y\":-46.2759}},\"keys\":{\"o\":[{\"t\":800,\"v\":{\"x\":50.3,\"y\":4.059698,\"type\":\"cusp\",\"end\":{\"x\":50.4,\"y\":42.659698}}},{\"t\":2270,\"v\":{\"x\":50,\"y\":116.759698,\"type\":\"cusp\",\"start\":{\"x\":50,\"y\":78.059698},\"end\":{\"x\":50,\"y\":123.759698}}},{\"t\":3300,\"v\":{\"x\":49.8,\"y\":196.159698,\"type\":\"cusp\",\"start\":{\"x\":49.2,\"y\":172.359698}}}]}},\"opacity\":[{\"t\":800,\"v\":1},{\"t\":4100,\"v\":1},{\"t\":4900,\"v\":0}]}},\"s\":\"MDFA1ZWJjNjNhNKWI2YjNhMmI1CYWFiMGFmNjMK3YjcyNzQ3OTJcxNzE2ZDYzYQTVhYWIzYTZhTNGI1UGFhYjBJhZjYzN2I3MjYZkNjNhYWI1YRTZiM2EyYjVKBYWFiMGFmYjRPMNjM3Ykw3MjEZkTzYzYTdhYPWFkYWQ2MzdiVNzI2ZDYzYTJThZGI1YTZiM2LFmYTJiNWE2NMjM3YmE3YTJhWZGI0YTY2ZDYYzYjRiMWE2YTMZhNTYzN2I3MTjZkNjNhN2IxBYjQ2MzdiNzIQ3MUQ3MWJl\"}],\"options\":\"MDYAxODgyMjk3YQTdiNjg3OTdiRMjlBNDEyOTcM3Nzk3NjZlNzUk2ODc0NzQ2OXDdiNzA2YTI5RODQ\/\"},'__SVGATOR_PLAYER__',window,document)\r\n]]><\/script>\r\n<\/svg>\r\n");
}

const SVGatorComponent = React.forwardRef((props, ref) => {
    const html = getHtml();
    if (!SVGatorPlayer.getWebViewProps) {
        console.warn("Your currently installed @svgator/react-native package is outdated. " +
            "Please update it to the newest version. " +
            "See more: https://www.npmjs.com/package/@svgator/react-native");
        const newProps = SVGatorPlayer.parseProps(props, html);
        return (
            <WebView ref={ref}
                     {...newProps}
                     source={{html}}
                     containerStyle={{flex: 0}}
                     style={{backgroundColor: "transparent", flex: 0}}/>
        );
    }

    const {newProps, styles} = SVGatorPlayer.getWebViewProps(props, html);

    return (
        <WebView
            ref={ref}
            {...newProps}
            source={{html}}
            containerStyle={styles.container}
            style={styles.style}
        />
    );
});

export default SVGatorComponent;
